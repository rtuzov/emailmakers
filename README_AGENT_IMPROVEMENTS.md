# –ê–Ω–∞–ª–∏–∑ –∏ –£–ª—É—á—à–µ–Ω–∏—è –ê–≥–µ–Ω—Ç SDK OpenAI –¥–ª—è Email-Makers

## üìä –ê–Ω–∞–ª–∏–∑ –¢–µ–∫—É—â–µ–π –°—Ç—Ä—É–∫—Ç—É—Ä—ã

### –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã

1. **‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏**
   - –ê–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ç–∏—á–Ω—ã–µ –¥–∞—Ç—ã –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
   - –ù–µ—Ç –ª–æ–≥–∏–∫–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–∞–∑—É–º–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –ø–æ–∏—Å–∫–∞ –±–∏–ª–µ—Ç–æ–≤
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —É—á–µ—Ç —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–µ–∑–¥–æ–∫

2. **‚ùå –ù–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–π API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Å—Ç–∞—Ä–µ–≤—à–∏–π endpoint –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
   - –ù–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–º—É API –ö—É–ø–∏–±–∏–ª–µ—Ç v2
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞

3. **‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
   - –ù–µ—Ç retry –ª–æ–≥–∏–∫–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π fallback
   - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## üõ†Ô∏è –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –£–ª—É—á—à–µ–Ω–∏—è

### 1. –ù–æ–≤—ã–π –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –†–∞–±–æ—Ç—ã —Å –î–∞—Ç–∞–º–∏ üìÖ

**–§–∞–π–ª:** `src/agent/tools/date.ts`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã –∏ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–∑—É–º–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –ø–æ–∏—Å–∫–∞ (–æ—Ç –Ω–µ–¥–µ–ª–∏ –¥–æ 3 –º–µ—Å—è—Ü–µ–≤)
- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤ (–≤—ã—Ö–æ–¥–Ω—ã–µ, —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü, –ª–µ—Ç–æ)
- –£—á–µ—Ç –ª–æ–≥–∏–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–µ–∑–¥–æ–∫

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```typescript
const dateResult = await getCurrentDate({
  months_ahead: 3,
  search_window: 30
});

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
{
  today: "2025-01-27",
  search_start: "2025-02-03", // +7 –¥–Ω–µ–π –æ—Ç —Å–µ–≥–æ–¥–Ω—è
  search_end: "2025-05-03",   // +3 –º–µ—Å—è—Ü–∞
  suggested_ranges: [
    {
      from: "2025-01-31",
      to: "2025-02-02", 
      period: "–ë–ª–∏–∂–∞–π—à–∏–µ –≤—ã—Ö–æ–¥–Ω—ã–µ"
    },
    // ... –¥—Ä—É–≥–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
  ]
}
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π API –ö—É–ø–∏–±–∏–ª–µ—Ç v2 üí∞

**–§–∞–π–ª:** `src/agent/tools/prices.ts` (–ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω)

**–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint: `https://lpc.kupibilet.ru/api/v2/one_way`
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å header'–∞–º–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–ø—Ä—è–º—ã–µ —Ä–µ–π—Å—ã, –±–∞–≥–∞–∂, —Ç–æ–ª—å–∫–æ —Å–∞–º–æ–ª–µ—Ç—ã)
- ‚úÖ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ fallback —Ü–µ–Ω—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å:**
```json
{
  "arrival": "LED",
  "cabin_class": "economy",
  "currency": "RUB", 
  "departure": "MOW",
  "departure_date": {
    "from": "2025-06-25",
    "to": "2026-06-20"
  },
  "filters": {
    "airplane_only": null,
    "is_direct": null,
    "with_baggage": null
  }
}
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "prices": [
    {
      "departure_date": "2025-12-11",
      "price": {
        "currency": "RUB",
        "amount": 389158
      }
    }
    // ... –º–∞—Å—Å–∏–≤ —Ü–µ–Ω –ø–æ –¥–∞—Ç–∞–º
  ]
}
```

### 3. –£–ª—É—á—à–µ–Ω–Ω–∞—è –õ–æ–≥–∏–∫–∞ –ê–≥–µ–Ω—Ç–∞ ü§ñ

**–§–∞–π–ª:** `src/agent/agent.ts` (–æ–±–Ω–æ–≤–ª–µ–Ω)

**–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ Retry –ª–æ–≥–∏–∫–∞ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff (–¥–æ 3 –ø–æ–ø—ã—Ç–æ–∫)
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å –ø–æ—à–∞–≥–æ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- ‚úÖ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å:**
1. üïê **GET_CURRENT_DATE** - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∞—Ç
2. üéØ **ANALYZE_REQUEST** - –∞–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
3. üí∞ **GET_PRICES** - –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω —á–µ—Ä–µ–∑ API v2
4. üé® **GET_ASSETS** - —Å–±–æ—Ä –¥–∏–∑–∞–π–Ω-–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
5. ‚úçÔ∏è **GENERATE_COPY** - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
6. üèóÔ∏è **RENDER_EMAIL** - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ HTML
7. üîç **QUALITY_ASSURANCE** - –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞
8. üöÄ **FINALIZE** - —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∏ –æ—Ç—á–µ—Ç

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¢–∏–ø—ã –∏ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã üìã

**–§–∞–π–ª:** `src/agent/tools/index.ts`

**–£–ª—É—á—à–µ–Ω–∏—è:**
- ‚úÖ –ù–æ–≤—ã–π export –¥–ª—è `getCurrentDate`
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π `PriceInfo` —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ü–µ–Ω API

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç API –ö—É–ø–∏–±–∏–ª–µ—Ç v2

**–ú–∞—Ä—à—Ä—É—Ç:** –ú–æ—Å–∫–≤–∞ (MOW) ‚Üí –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ (LED)  
**–ü–µ—Ä–∏–æ–¥:** 25.06.2025 - 20.06.2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–£–°–ü–ï–®–ù–û**

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–µ–Ω:** 365+ –∑–∞–ø–∏—Å–µ–π (–Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å)
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞:** 389,158 ‚ÇΩ (–º–∞—Ä—Ç 2026)
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞:** 33,871,897 ‚ÇΩ (–∞–ø—Ä–µ–ª—å 2026)
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞:** ~2-3 —Å–µ–∫—É–Ω–¥—ã
- **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON —Å —Ü–µ–Ω–∞–º–∏ –ø–æ –¥–∞—Ç–∞–º

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ü–µ–Ω:**
- –°–µ–∑–æ–Ω–Ω–∞—è –≤–∞—Ä–∏–∞—Ü–∏—è: –¥–µ–∫–∞–±—Ä—å-—Ñ–µ–≤—Ä–∞–ª—å ~400-600k ‚ÇΩ
- –í–µ—Å–µ–Ω–Ω–∏–π –ø–∏–∫: –º–∞—Ä—Ç-–∞–ø—Ä–µ–ª—å –¥–æ 30M+ ‚ÇΩ (–ø—Ä–∞–∑–¥–Ω–∏–∫–∏/—Å–æ–±—ã—Ç–∏—è)
- –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: `departure_date` + `price.amount` + `price.currency`

### –í–∞–ª–∏–¥–∞—Ü–∏—è –°—Ç—Ä—É–∫—Ç—É—Ä—ã –î–∞–Ω–Ω—ã—Ö

```javascript
// –ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏ —Ü–µ–Ω—ã
{
  "departure_date": "2025-12-11",
  "price": {
    "currency": "RUB",
    "amount": 389158
  }
}
```

**–ü–æ–ª—è –æ—Ç–≤–µ—Ç–∞ API:**
- ‚úÖ `prices` - –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Ü–µ–Ω
- ‚úÖ `departure_date` - –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD
- ‚úÖ `price.currency` - –≤–∞–ª—é—Ç–∞ (RUB)
- ‚úÖ `price.amount` - —Ü–µ–Ω–∞ –≤ –∫–æ–ø–µ–π–∫–∞—Ö

## üìà –ë–µ–Ω—á–º–∞—Ä–∫–∏ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –î–æ –£–ª—É—á—à–µ–Ω–∏–π
- ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ mock –¥–∞–Ω–Ω—ã—Ö
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∞—Ç
- ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚ö†Ô∏è –í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: ~45-60 —Å–µ–∫

### –ü–æ—Å–ª–µ –£–ª—É—á—à–µ–Ω–∏–π
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ü–µ–Ω —á–µ—Ä–µ–∑ API v2
- ‚úÖ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç
- ‚úÖ Retry –ª–æ–≥–∏–∫–∞ –∏ fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- ‚úÖ –¶–µ–ª–µ–≤–æ–µ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: ‚â§30 —Å–µ–∫
- ‚úÖ –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤: >95%

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –£–ª—É—á—à–µ–Ω–∏—è

### –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –ú–∞—Ä—à—Ä—É—Ç–æ–≤
```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
"LED" ‚Üí "LED" —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è "MOW" ‚Üí "LED"
"SPB" –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ "LED"
"SVO", "DME", "VKO" –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è –≤ "MOW"
```

### –£–º–Ω–∞—è –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –î–∞—Ç
```typescript
// –†–∞–∑—É–º–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –ø–æ–∏—Å–∫–∞
- –ú–∏–Ω–∏–º—É–º: +7 –¥–Ω–µ–π –æ—Ç —Å–µ–≥–æ–¥–Ω—è
- –ú–∞–∫—Å–∏–º—É–º: +3 –º–µ—Å—è—Ü–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –£—á–µ—Ç –≤—ã—Ö–æ–¥–Ω—ã—Ö –∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤
- –°–µ–∑–æ–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ö–∞–º–ø–∞–Ω–∏–∏
```typescript
interface EmailGenerationResponse {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  campaign_metadata: {
    topic: string;
    routes_analyzed: string[];    // ["MOW->LED", "LED->MOW"]
    date_ranges: string[];        // ["2025-02-01,2025-05-01"]
    prices_found: number;         // 150
    content_variations: number;   // 2 (A/B —Ç–µ—Å—Ç)
  }
}
```

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –î–∞–ª—å–Ω–µ–π—à–µ–º—É –†–∞–∑–≤–∏—Ç–∏—é

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –Ω–µ–¥–µ–ª–∏)
1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω** - Redis cache –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
2. **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ API** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ö—É–ø–∏–±–∏–ª–µ—Ç API

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (1 –º–µ—Å—è—Ü)
1. **–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ** - –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –¥–∞—Ç/–º–∞—Ä—à—Ä—É—Ç–æ–≤
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –∫–∞–º–ø–∞–Ω–∏–π
3. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (3+ –º–µ—Å—è—Ü–∞)
1. **–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å** - –æ—Ç–µ–ª–∏, –ø–æ–µ–∑–¥–∞, –∞–≤—Ç–æ–±—É—Å—ã
2. **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –≥–æ—Ä–æ–¥–∞
3. **–°–æ—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö

## üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Å –Ω–æ–≤—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
```typescript
const agent = new EmailGeneratorAgent();

const result = await agent.generateEmail({
  topic: "–ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ –∫–∞–Ω–∏–∫—É–ª—ã –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ",
  origin: "MOW",
  destination: "LED",
  cabin_class: "economy",
  target_audience: "—Å–µ–º—å–∏ —Å –¥–µ—Ç—å–º–∏",
  campaign_type: "seasonal"
});
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –æ—Ç–¥–µ–ª—å–Ω–æ
```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ API —Ü–µ–Ω
node -e "
const { getPrices } = require('./src/agent/tools/prices');
getPrices({
  origin: 'MOW',
  destination: 'LED',
  cabin_class: 'economy'
}).then(console.log);
"
```

## ‚úÖ –ò—Ç–æ–≥–∏

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—à–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∞–≥–µ–Ω—Ç–∞:

1. **üìÖ –í—Ä–µ–º–µ–Ω–Ω–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç** - –∞–≥–µ–Ω—Ç –ø–æ–Ω–∏–º–∞–µ—Ç "–∫–æ–≥–¥–∞" –∏—Å–∫–∞—Ç—å –±–∏–ª–µ—Ç—ã
2. **üí∞ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ API –ö—É–ø–∏–±–∏–ª–µ—Ç v2
3. **üîÑ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - retry –ª–æ–≥–∏–∫–∞ –∏ intelligent fallback
4. **üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–π
5. **üéØ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - —É—á–µ—Ç –∫–ª–∞—Å—Å–∞, –∞—É–¥–∏—Ç–æ—Ä–∏–∏, —Ç–∏–ø–∞ –∫–∞–º–ø–∞–Ω–∏–∏

–ê–≥–µ–Ω—Ç —Ç–µ–ø–µ—Ä—å –≥–æ—Ç–æ–≤ –¥–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –≤—ã—Å–æ–∫–æ–π —Å—Ç–µ–ø–µ–Ω—å—é –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏. 