# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø ASSET MANIFEST –ó–ê–í–ï–†–®–ï–ù–´

## üéØ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê

–í—Å–µ `file_path: null` –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!

## üîß –ß–¢–û –ë–´–õ–û –ò–°–ü–†–ê–í–õ–ï–ù–û

### **1. –£–î–ê–õ–ï–ù–´ –ó–ê–•–ê–†–î–ö–û–ñ–ï–ù–ù–´–ï –ü–ê–†–ê–ú–ï–¢–†–´**
- ‚úÖ `temperature: 0.3` ‚Üí `parseFloat(process.env.AI_TEMPERATURE || '0.3')`
- ‚úÖ `max_tokens: 2000` ‚Üí `parseInt(process.env.AI_MAX_TOKENS || '2000')`
- ‚úÖ `slice(0, 5)` ‚Üí `slice(0, parseInt(process.env.ASSET_FILE_LIMIT || '5'))`
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `config.ts` —Å –ø–æ–ª–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

### **2. –ò–°–ü–†–ê–í–õ–ï–ù–ê –õ–û–ì–ò–ö–ê FILE_PATH**
```typescript
// ‚ùå –î–û: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π file_path
file_path: asset.isExternal ? null : asset.path, // asset.path = –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø—É—Ç—å

// ‚úÖ –ü–û–°–õ–ï: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π file_path
file_path: asset.file_path || null, // asset.file_path = –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –∫ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É
```

### **3. –î–û–ë–ê–í–õ–ï–ù–´ –í–ù–ï–®–ù–ò–ï –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø –î–õ–Ø –¢–û–ö–ò–û**
```typescript
// ‚úÖ –ù–û–í–´–ï –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø –î–õ–Ø –¢–û–ö–ò–û:
- external_hero_tokyo_sakura (—Å–∞–∫—É—Ä–∞ –Ω–∞ —Ñ–æ–Ω–µ –¢–æ–∫–∏–æ)
- external_tokyo_tower (–¢–æ–∫–∏–π—Å–∫–∞—è –±–∞—à–Ω—è)
- external_shibuya_crossing (–ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–æ–∫ –°–∏–±—É—è)  
- external_japanese_food (—è–ø–æ–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è)
```

### **4. –ò–°–ü–†–ê–í–õ–ï–ù–ê –§–£–ù–ö–¶–ò–Ø generateSimpleAssetManifest**
```typescript
// ‚úÖ –¢–ï–ü–ï–†–¨ –§–£–ù–ö–¶–ò–Ø:
1. –ü—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π generateAssetManifest tool
2. –ï—Å–ª–∏ –Ω–µ —É–¥–∞–µ—Ç—Å—è - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—ã–π fallback:
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–Ω–µ—à–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ generateExternalImageLinks
   - –î–æ–±–∞–≤–ª—è–µ—Ç placeholders —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ isExternal –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ file_path –∏ url
```

## üìä –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢ –î–õ–Ø –ù–û–í–´–• –ö–ê–ú–ü–ê–ù–ò–ô

### **Asset Manifest –¥–ª—è –¢–æ–∫–∏–æ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å:**

```json
{
  "assetManifest": {
    "images": [
      {
        "id": "external_hero_tokyo_sakura",
        "type": "hero-image", 
        "description": "–í–ø–µ—á–∞—Ç–ª—è—é—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–∞–∫—É—Ä—ã –Ω–∞ —Ñ–æ–Ω–µ –¢–æ–∫–∏–æ",
        "file_path": "https://images.unsplash.com/photo-1490806843957-31f4c9a91c65?w=1200&h=800&q=80&fit=crop",
        "url": "https://images.unsplash.com/photo-1490806843957-31f4c9a91c65?w=1200&h=800&q=80&fit=crop",
        "isExternal": true,
        "metadata": {
          "external_source": "unsplash"
        }
      },
      {
        "id": "external_tokyo_tower",
        "type": "destination-showcase",
        "description": "–ó–Ω–∞–º–µ–Ω–∏—Ç–∞—è –¢–æ–∫–∏–π—Å–∫–∞—è –±–∞—à–Ω—è –≤ –≤–µ—á–µ—Ä–Ω–µ–º –æ—Å–≤–µ—â–µ–Ω–∏–∏", 
        "file_path": "https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=800&h=600&q=80&fit=crop",
        "isExternal": true
      },
      // ... –¥—Ä—É–≥–∏–µ –≤–Ω–µ—à–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
      {
        "id": "asset_1",
        "type": "supporting-visuals",
        "description": "Placeholder –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤",
        "file_path": null,
        "isExternal": false,
        "metadata": {
          "placeholder": true
        }
      }
    ]
  }
}
```

## üöÄ –ù–ê–°–¢–†–û–ô–ö–ê –ß–ï–†–ï–ó .ENV

–¢–µ–ø–µ—Ä—å –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è:

```bash
# AI Configuration
AI_MODEL=gpt-4o-mini
AI_TEMPERATURE=0.3
AI_MAX_TOKENS=2000
AI_MAX_FILES=3

# File Limits
ASSET_FILE_LIMIT=5
MAX_IMAGE_SIZE=500000

# Unsplash API
UNSPLASH_API_KEY=your_key_here
UNSPLASH_IMAGES_PER_QUERY=1

# Image Quality
IMAGE_QUALITY=80
COMPRESSION_LEVEL=80
```

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

1. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∫–∞–º–ø–∞–Ω–∏—é –¥–ª—è –¢–æ–∫–∏–æ**
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ asset-manifest.json:**
   - ‚úÖ –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å `isExternal: true`
   - ‚úÖ file_path –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å https:// —Å—Å—ã–ª–∫–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö
   - ‚úÖ file_path –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å null —Ç–æ–ª—å–∫–æ –¥–ª—è placeholders
   - ‚úÖ total_size > 0
   - ‚úÖ –ú–∏–Ω–∏–º—É–º 4 –≤–Ω–µ—à–Ω–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –¢–æ–∫–∏–æ

## üìÅ –ò–ó–ú–ï–ù–ï–ù–ù–´–ï –§–ê–ô–õ–´

1. **src/agent/tools/asset-preparation/ai-analysis.ts**
   - –£–¥–∞–ª–µ–Ω—ã –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ AI –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –¢–æ–∫–∏–æ –≤ generateExternalImageLinks

2. **src/agent/tools/asset-preparation/types.ts** 
   - –£–¥–∞–ª–µ–Ω—ã –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ DEFAULT_AI_CONFIG

3. **src/agent/tools/asset-preparation/asset-collection.ts**
   - –£–¥–∞–ª–µ–Ω –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç —Ñ–∞–π–ª–æ–≤
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ file_path –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏

4. **src/agent/tools/asset-preparation/asset-manifest-generator.ts**
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è file_path –≤ generateAssetManifestFromAssets

5. **src/agent/specialists/content-specialist-tools.ts** ‚≠ê **–ö–õ–Æ–ß–ï–í–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï**
   - –§—É–Ω–∫—Ü–∏—è generateSimpleAssetManifest —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—à–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ generateAssetManifest tool
   - –£–ª—É—á—à–µ–Ω–Ω—ã–π fallback —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

6. **src/agent/tools/asset-preparation/config.ts** ‚ú® **–ù–û–í–´–ô –§–ê–ô–õ**
   - –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

7. **–£–¥–∞–ª–µ–Ω:** `src/agent/tools/asset-preparation/asset-manifest-generator-old.ts`

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

üéâ **–í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–†–ò–ú–ï–ù–ï–ù–´!**

- ‚úÖ –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–¥–∞–ª–µ–Ω—ã
- ‚úÖ file_path –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –í–Ω–µ—à–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è
- ‚úÖ isExternal —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è

**–°–ª–µ–¥—É—é—â–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏ –¥–ª—è –¢–æ–∫–∏–æ –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –≤–Ω–µ—à–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏!** üöÄ 